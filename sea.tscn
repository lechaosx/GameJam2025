[gd_scene load_steps=11 format=3 uid="uid://p6yfac4vlqls"]

[ext_resource type="Script" uid="uid://jc77jnbbkuvs" path="res://sea.gd" id="1_lotjo"]
[ext_resource type="PackedScene" uid="uid://cbrtvx1fx65q6" path="res://ship.tscn" id="1_xwcm7"]
[ext_resource type="Script" uid="uid://1p3ot4ug2gag" path="res://user_controller.gd" id="2_mehw6"]
[ext_resource type="PackedScene" uid="uid://rj64e3jgod0g" path="res://src/weapons/cannon/cannon.tscn" id="3_ari0p"]
[ext_resource type="Texture2D" uid="uid://b8oqvdpae6xxa" path="res://assets/Ships/ship (1).png" id="3_pfxiy"]
[ext_resource type="Script" uid="uid://d0pemlxry8a1c" path="res://player_camera.gd" id="4_a0flf"]
[ext_resource type="PackedScene" uid="uid://00gajb1hqwq6" path="res://src/weapons/cannon_automatic/cannon_automatic.tscn" id="6_a0flf"]
[ext_resource type="Script" uid="uid://c5taoms3yt1wi" path="res://wind.gd" id="8_pfxiy"]
[ext_resource type="PackedScene" uid="uid://dpdoenrgimjkw" path="res://ability_cards.tscn" id="9_ari0p"]
[ext_resource type="Script" path="res://background_tiles.gd" id="10_7uhs0"]

[node name="Sea" type="Node"]
script = ExtResource("1_lotjo")

[node name="PlayerShip" parent="." node_paths=PackedStringArray("controller") groups=["wind_affected"] instance=ExtResource("1_xwcm7")]
unique_name_in_owner = true
rotation = -1.5708
slide_on_ceiling = false
power = 150
friction = 20
ship_length = 50
controller = NodePath("UserController")
texture = ExtResource("3_pfxiy")

[node name="PlayerCamera" type="Camera2D" parent="PlayerShip"]
script = ExtResource("4_a0flf")

[node name="Cannon" parent="PlayerShip" instance=ExtResource("3_ari0p")]

[node name="UserController" type="Node" parent="PlayerShip"]
script = ExtResource("2_mehw6")

[node name="Cannon2" parent="PlayerShip" instance=ExtResource("6_a0flf")]
rotation = 0.785398

[node name="Cannon3" parent="PlayerShip" instance=ExtResource("6_a0flf")]
rotation = -0.785398

[node name="Wind" type="Node" parent="."]
script = ExtResource("8_pfxiy")

[node name="EnemySpawnTimer" type="Timer" parent="."]
wait_time = 5.0
autostart = true

[node name="BarrelSpawnTimer" type="Timer" parent="."]
autostart = true

[node name="BackgroundTiles" type="Node2D" parent="."]
script = ExtResource("10_7uhs0")

[node name="CanvasLayer" type="CanvasLayer" parent="."]

[node name="AbilityCards" parent="CanvasLayer" instance=ExtResource("9_ari0p")]
unique_name_in_owner = true
visible = true

[connection signal="timeout" from="EnemySpawnTimer" to="." method="_on_enemy_spawn_timer_timeout"]
[connection signal="timeout" from="BarrelSpawnTimer" to="." method="_on_barrel_spawn_timer_timeout"]
[connection signal="ability_selected" from="CanvasLayer/AbilityCards" to="." method="_on_ability_cards_ability_selected"]
